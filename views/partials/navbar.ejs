<!-- Navbar -->
<div class="navbar">
    <div class="navbar-left">
        <% if (!session.user || session.user.usertypeId !== 2) { %> 
            <a href="/services">SERVICES</a>
            <a href="/contact">CONTACT</a>
        <% } %>

        <% if (!session.user) { %> 
            <a href="/login">LOGIN</a>
            <a href="/signup">REGISTER</a>
            <% } %>

        <% if (session.user && session.user.usertypeId === 1) { %> 
            <a href="/orders">ORDERS</a> 
        <% } %>

        <% if (session.user && session.user.usertypeId === 2) { %>
            <a href="/admin_dashboard">ADMIN DASHBOARD</a> 
            <div class="profile-dropdown">
                <a href="/manage-users">MANAGE USERS</a>
                <div class="dropdown-content">
                        <a href="/manage-products">MANAGE PRODUCTS</a>
                        <a href="/manage-categories">MANAGE CATEGORIES</a>
                        <a href="/manage-orders">MANAGE ORDERS</a>
                </div>
            </div>
        <% } %>
    </div>

    <div class="navbar-center">
       <a href="<%= session.user && session.user.usertypeId === 2 ? '/admin_dashboard' : '/' %>">GOLD BEYOND</a>
    </div>

    <div class="navbar-right">
    <div class="search-box">
        <form action="/search" method="GET">
            <input type="text" id="searchInput" name="q" placeholder="Search" class="searchbar">
            <button type="submit" class="search-icon">
                <i class="fa fa-search"></i>
            </button>
        </form>
    </div>

        <!-- Cart Icon (Always Visible) -->
        <a href="/cart"><i class="fa fa-shopping-cart"></i></a>

        <!-- Profile Dropdown -->
        <% if (!session.user) { %> 
            <a href="/login"><i class="fa fa-user-circle"></i></a>
        <% } else { %> 
            <div class="profile-dropdown">
                <i class="fa fa-user-circle"></i>
                <div class="dropdown-content">
                    <% if (session.user.usertypeId !== 2) { %> 
                        <a href="/manage-account">My Account</a>
                        <a href="/purchase-history">My Purchase History</a>
                        <a href="/my-review">My Reviews</a>
                    <% } %>
                    <a href="/logout">Logout</a> 
                </div>
            </div>
        <% } %>
    </div>
</div>
</div>




<style>
body {
    background-color: #f6f3ee;
}

/* Navbar */
.navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background-color: #9f6430;
    color: #fff;
    position: relative;
}

/* Left-aligned navigation links */
.navbar-left {
    display: flex;
    align-items: center;
    gap: 2vw;
}

/* Fix Blue Links */
.navbar a {
    color: #fff !important;   /* To maintain white color */
    text-decoration: none !important;
}

.navbar a:hover,
.navbar a:visited,
.navbar a:active {
    color: #fff !important; 
}

/* Centered logo */
.navbar-center {
    flex-grow: 1;
    text-align: center;
}

/* Logo Styling */
.navbar-center a {
    font-size: 2vw;
    font-weight: bold;
    font-family: "The Seasons", serif;
    color: #fff;
    text-decoration: none;
}

/* Right-aligned icons & search */
.navbar-right {
    display: flex;
    align-items: left;
    gap: 2vw;  
    justify-content: flex-start;
}

/* Search Box */
.navbar .search-box {
    display: flex;
    align-items: left;
    border: 1px solid #ccc;
    padding: 3px 8px;
    background-color: #fff;
    flex-shrink: 0;  /* Prevents it from collapsing */
}

.navbar .search-box input {
    border: none;
    outline: none;
    padding: 6px;
    font-size: 1vw;
}

.navbar .search-box input::placeholder {
    color: #9f6430;
}

.navbar .search-box i {
    color: #9f6430;
    cursor: pointer;
}

/* Search Icon */
.search-icon {
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
}

.search-icon i {
    color: #9f6430;
}


.navbar i {
    font-size: 2vw;
    cursor: pointer;
}


/* Profile Dropdown */
.profile-dropdown {
    position: relative;
    display: inline-block;
}

.profile-dropdown .dropdown-content {
    display: none;
    position: absolute;
    background-color: #965c38;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
    z-index: 1;
    right: 0;
}

.profile-dropdown:hover .dropdown-content {
    display: block;
}

.profile-dropdown .dropdown-content a {
    color: #fff;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
    font-size: 1vw;
}

.profile-dropdown .dropdown-content a:hover {
    background-color: #c4966b;
}


</style>
